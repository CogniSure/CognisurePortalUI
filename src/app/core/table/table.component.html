<div class="generic-table">
<kendo-grid #generictable
  [kendoGridBinding]="gridView"
  kendoGridSelectBy="id"
  [(selectedKeys)]="mySelection"
  [pageSize]="10"
  [pageable]="true"
  [sortable]="true"
  [groupable]="true"
  [reorderable]="true"
  [resizable]="true"
  allowScrolling = "true"
  scrollable="scrollable"
  [columnMenu]="{ filter: true }"
  [style.maxHeight.em]="height"
  [style.maxWidth]="'auto'"
  [loading]="loading"
  [selectable]="selectableSettings"
  [style]="'border-radius: 14px;overflow: hidden'"
>
  <ng-template kendoGridToolbarTemplate>
    <kendo-textbox
      [style.width]="'25%'"
      [style.border.px]="2"
      placeholder="Search in all columns..."
      (valueChange)="onFilter($event)"
    ></kendo-textbox>
    <kendo-grid-spacer></kendo-grid-spacer>
    <button kendoGridExcelCommand type="button" style="background-image: none;">
      
      <kendo-svg-icon [icon]="excelSVG" size="xxlarge"></kendo-svg-icon>
    </button>
    <button kendoGridPDFCommand style="background-image: none;">
      <kendo-svg-icon [icon]="pdfSVG" size="xxlarge" style="color: red;"></kendo-svg-icon>
    </button>
  </ng-template>
  <ng-template ngFor [ngForOf]="columns" let-column>
    <kendo-grid-column
      *ngIf="column.type == 'text'"
      field="{{ column.field }}"
      title="{{ column.title }}"
      format="{{ column.format }}"
      [filterable]="column.filterable"
      [sortable]="column.sortable"
      [filter]="column.type"
      [width]="column.width"
      [columnMenu]="column.columnmenu"
    >
      <ng-template
        kendoGridCellTemplate
        let-dataItem
        let-rowIndex="rowIndex"
        let-value="value"
      >
        {{ dataItem[column.field] }}
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column
      *ngIf="column.type == 'link'"
      field="{{ column.field }}"
      title="{{ column.title }}"
      format="{{ column.format }}"
      [filterable]="column.filterable"
      [sortable]="column.sortable"
      [filter]="column.type"
      [width]="column.width"
      [columnMenu]="column.columnmenu"
    >
      <ng-template
        kendoGridCellTemplate
        let-dataItem
        let-rowIndex="rowIndex"
        let-value="value"
      >
        <a routerLink="/inbox/detail/summary" [ngStyle]="{ color: 'blue' }">
          {{ dataItem[column.field] }}</a
        >
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column
      *ngIf="column.type == 'checkbox'"
      field="{{ column.field }}"
      title="{{ column.title }}"
      format="{{ column.format }}"
      [filterable]="column.filterable"
      [sortable]="column.sortable"
      [filter]="column.type"
      [width]="column.width"
      [columnMenu]="column.columnmenu"
    >
      <ng-template
        kendoGridHeaderTemplate
        let-column
        let-columnIndex="columnIndex"
      >
        <input type="checkbox" kendoCheckBox kendoGridSelectAllCheckbox />
      </ng-template>
      <ng-template
        kendoGridCellTemplate
        let-dataItem
        let-rowIndex="rowIndex"
        let-value="value"
      >
      
        <input kendoCheckBox [kendoGridSelectionCheckbox]=rowIndex 
        (click)="onCheckBoxClick($event, rowIndex, dataItem)"
        />
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column
      *ngIf="column.type == 'icon'"
      field="{{ column.field }}"
      title="{{ column.title }}"
      format="{{ column.format }}"
      [filterable]="column.filterable"
      [sortable]="column.sortable"
      [filter]="column.type"
      [width]="column.width"
      [columnMenu]="column.columnmenu"
    >
      <ng-template
        kendoGridCellTemplate
        let-dataItem
        let-rowIndex="rowIndex"
        let-value="value"
      >
        <span class="k-icon k-i-import"></span>
      </ng-template>
    </kendo-grid-column>

    <kendo-grid-column
      *ngIf="column.type == 'alerts'"
      field="{{ column.field }}"
      title="{{ column.title }}"
      format="{{ column.format }}"
      [filterable]="column.filterable"
      [sortable]="column.sortable"
      [filter]="column.type"
      [width]="column.width"
      [columnMenu]="column.columnmenu"
    >
      <ng-template
        kendoGridHeaderTemplate
        let-column
        let-columnIndex="columnIndex"
      >
        <div>
          <div style="text-align: center">
            {{ column.title }}
          </div>
          <div style="display: flex; text-align: center">
            <img
              src="../../../assets/images/Extraction.svg"
              style="padding: 0 0.25em 0 0.25em;"
            />
            <img
              src="../../../assets/images/Completeness Check.svg"
              style="padding: 0 0.25em 0 0.25em;"
            />
            <img
              src="../../../assets/images/Risk Clearance.svg"
              style="padding: 0 0.25em 0 0.25em;"
            />
          </div>
        </div>
      </ng-template>
      <ng-template
        kendoGridCellTemplate
        let-dataItem
        let-rowIndex="rowIndex"
        let-value="value"
      >
        <div style="display: flex; justify-content: center;">
          <span class="k-icon k-i-circle" style="color:#80808059;"></span>
          <span class="k-icon k-i-circle" style="color:#80808059;"></span>
          <span class="k-icon k-i-circle" style="color:#80808059;"></span>
        </div>
      </ng-template>
    </kendo-grid-column>


    <kendo-grid-column
    *ngIf="column.type == 'SubmissionId'"
    field="{{ column.field }}"
    title="{{ column.title }}"
    format="{{ column.format }}"
    [filterable]="column.filterable"
    [sortable]="column.sortable"
    [filter]="column.type"
    [width]="column.width"
    [columnMenu]="column.columnmenu"
  >
    <ng-template
      kendoGridCellTemplate
      let-dataItem
      let-rowIndex="rowIndex"
      let-value="value"
      style="width:100%"
    >
      <ng-container>
        <a class ="submissionid" routerLink="{{column.redirectUrl}}" (click)="reDirect(column.redirectUrl,dataItem)" [ngStyle]="{ color: '#009CC1' }">
          {{ dataItem[column.field] }}
        <span class="newtext" *ngIf="dataItem[column.IsNew]">New</span>
        <span class="submissionicon"><span class="k-icon k-i-email"></span></span>
        </a>
      </ng-container>
      <!-- <ng-container *ngIf="column.type === 'icon1'">
        <span class="k-icon k-i-email"></span>
      </ng-container> -->
      <!-- <ng-container *ngIf="column.type === 'text1'">
        <span>New</span>
      </ng-container> -->
    </ng-template>
  </kendo-grid-column>

  </ng-template>
  <ng-template kendoGridLoadingTemplate>
    <div class="k-loading-color"></div>
    <div class="loading-container">
      <kendo-loader type="converging-spinner" size="large"></kendo-loader>
    </div>
  </ng-template>
  <kendo-grid-pdf
    fileName="Employees.pdf"
    [repeatHeaders]="true"
  ></kendo-grid-pdf>
  <kendo-grid-excel fileName="Employees.xlsx"></kendo-grid-excel>
</kendo-grid>
</div>